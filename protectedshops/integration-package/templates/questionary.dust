
<style type="text/css">

     ul.questionnaire-nav {
          display: block;
          list-style-type: none;
          margin-bottom: 2px;
          padding: 0;
      }

      ul.questionnaire-nav>li {
          display: inline;
          float: left;
          width: auto;
          height: 46px;
          background-color: white;
          margin-left: 3px;
          border-right: 1px solid black;
          border-bottom: 1px solid black;
          border-radius: 4px;
          overflow: hidden;
      }

    ul.questionnaire-nav>li a {
        padding: 2px;
        height: 100%;
    }

    ul.questionnaire-nav>li a.selected {
        font-weight: bold;
    }

      ul.questionnaire-nav>li a:hover {
          color: black;
      }

      ul.questionnaire-nav>li:hover {
          background-color: lightgray;
      }

      ul.questionnaire-nav>li.selected {
          background-color: lightgray;
      }

    .questionnaire-nav li a{
        display: block;
    }
    .done-questions{
      display: none;
    }
    .tab-success .done-questions, .not-done-questions{
        display: inline;
        width: 15px;
        float: left;
    }
    .tab-success .not-done-questions {
        display: none;
    }
    .nav-text {
        display: inline;
        width: 850%;
        float: left;
    }
    .questionnaire-section .editVariables, .questionnaire-section .editQuestionnaire {
        float: right;
    }
    .question .done-questions, .question .editQuestionnaire, .question .editVariables, .editVariables, .answered .select-value, .answered .saveVariables {
        display: none;
    }
    .answered .done-questions {
        display: inline;
        float: left;
        margin-left: 400px;
    }
    img.done_icon {
        width: 10px;
        height: 10px;
    }
    .question.answered .editQuestionnaire, .question.answered .editVariables, .answered .editVariables {
        display: inline;
        float: right;
    }
    .btn-navigations {
        float: right;
    }
    .btn-navigations button {
        float: right;
    }

</style>
<script>
    function handleCheckBoxClicked(input) {
        if (input.id.search('noneOfTheAbove') > 0) {
            var inputs = document.querySelectorAll("[data-questionid='"+input.dataset.questionid+"']");
            inputs.forEach(function(el){
                if (el != input && input.checked) {
                    el.checked = false;
                    el.disabled = true;
                } else if (el != input && !input.checked) {
                    el.disabled = false;
                }
            });
        }
    }

    function checkIfEmpty(event){
        var singleInputs = document.getElementsByClassName('questionnaire-singleline');

        for (var i = 0; i < singleInputs.length; i++) {
            if (singleInputs[i].value == '') {
                singleInputs[i].value = '(.....)';
            }
        }
    }
</script>

<div class="questionary-container">
    <div style="display: none;" id="hide-answered-warning" class="warning {@eq key="false" type="boolean" value=config.hideAnswered}hidden{/eq}">
         <h2>{tr.hiddenQuestionsWarningHeader}</h2>
        {tr.hiddenQuestionsWarningText}
    </div>
    {! ---- navigation ---- !}
    <div style="display: inline; float: left; width: 100%; margin-top: -10px;">
        <ul class="questionnaire-nav">
            {#documents}
            <li>
                <a href="javascript:void(0);" rel="document-{$idx}">
                    <span class="done-questions" >
                        <img src="/wp-content/plugins/protectedshops/integration-package/images/questionnaire_success.png" >
                    </span>
                    <span class="not-done-questions" >
                        <img src="/wp-content/plugins/protectedshops/integration-package/images/questionnaire_warning.png" >
                    </span>
                    <span class="nav-text" >{title}</span>
                </a>
            </li>
            {/documents}
            <div class="clear-fix"></div>
        </ul>
    </div>
    {! ---- questionary ---- !}
    <div id="content" class="content-blog">		
        <form class="form" novalidate id="questionnaire-form" action="{config.submitQuestionaryUrl}" method="post">
            <div id="questionnaire">
                {#documents}
                <div class="questionnaire-document document-{$idx}">
                    {#sections}
                    <div class="questionnaire-section {@eq key="true" type="boolean" value=hidden}hidden{/eq}">

                        {#questions}
                            {>question /}
                        {/questions}

                        {?variables}
                        <div style="padding-bottom: 25px; border-bottom: 2px solid lightgray;" class="form-submit variables-container">
                            <span class="done-questions" >
                                <img class="done_icon" src="/wp-content/plugins/protectedshops/integration-package/images/questionnaire_success.png" >
                            </span>
                            <br />
                            <h3><p class="question-title">{tr.pleaseFill}:</p></h3>
                            <button class="button-small fusion-button editVariables" type="button">({tr.edit})</button>

                            {#variables}
                                {>variable /}
                            {/variables}

                            <button class="button-small fusion-button saveVariables" onClick="checkIfEmpty(event)" type="button">{tr.save}</button>
                            <div class="clear-fix"></div>
                        </div>
                        {/variables}
                    </div>
                    {/sections}
                </div>
                {/documents}
            </div>
            {! ---- buttons ---- !}
            <div class="btn-navigations form-submit" style="margin: 20px 0 0" >
                <div class="questionnaire-warning-text">{tr.questionaryBottomWarning}</div>
                <button class="button-large fusion-button  prevDocument inactive" type="button">{tr.back}</button>
                <button class="button-large fusion-button nextDocument inactive" type="button">{tr.forward}</button>
                <button id="submitQuestionnaire" class="button-large fusion-button inactive" type="button" >{tr.finish}</button>
                <div class="clear-fix"></div>
            </div>
        </form>
    </div>
    <div style="clear: both"></div>
</div>
